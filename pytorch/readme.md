TODO:
9) проверить все валидационные выборки (чтобы было поровну HC & ALS)

10) сделать 4 сверточных слоя на каждом диапазоне
11) use lightening framework (future)

CHANGE-LOG

1) best model on each fold selection using validation set criterion
2) Estimate performance using this best model
3) create 3-row conv NN architecture: low-freq, mid-freq, high-freq
4) Add batch normalization layer
5) wider time span works better (!) -- experiment with this
6) accelerate test and validation process
7) added second layer of convolutions

## Анализ проблемной вкалдки (номер 3)

В результате экспериментов замечено, что результат тестирования при обучении на вкладке 3 всегда очень низкий. Не более 60%. Нужно понять с чем это связано?

Номера дикторов из этой вкладки
[61->HC(f),
 16->HC(m),
 115->HC(f),
 109->HC(f),
 111->HC(f),
 2->HC(f),
 107->HC(m),
 46->ALS(f),
 84->ALS(m),
 64->ALS(m),
 52->ALS(f),
 24->ALS(m),
 76->ALS(m)
 ], # 2+5 HC / 4+2 ALS

Номера валидационной выборки для этой вкладки
 ,               

### Валидационное множество (вкладка 0)
[49, 42, 20, 31],
49->HC(m38), 42->HC(m60), 20->ALS(f57), 31->ALS(m67)
Тут плохо, что в группе здоровых два мужины, нужно, чтобы была и одна женщина, иначе будет плохо отбираться модель
81->HC(m60), 42->HC(m60), 20->ALS(f57), 31->ALS(m67)
[81, 42, 20, 31] -- новое значение вкладки 0

### Валидационное множество (вкладка 1)
[97, 53,  92, 32],
97->HC(f39), 53->(m60), 92->ALS(f39),  32->ALS(m61)

### Валидационное множество (вкладка 2)
28->HC(m35), 99->HC(f57), 129->HC(f68), 55->ALS(m61)
Тут плохо, что в валидации оказалось три представителя контрольной группы
80->ALS(f63)
[28, 129, 55, 80] -- новое значение вкладки 2

### Валидационное множество (вкладка 3)
[61, 111, 84, 76],  
61->HC(f37), 111->HC(f60), 84->ALS(f55), 76->ALS(m68)
Тут плохо, что в валидации в контрольной группы оказалось две женщины
123->HC(m43)
[111, 123, 76, 84] -- новое значение вкладки 3

### Валидационное множество (вкладка 4)
[77, 24, 94, 8]
77->HC(f40), 24->HC(m60), 94->ALS(f55), 8->ALS(m58)

## Выбор окон для сверток (НЧ)
31 -- максимально возможная (нечетная) ширина окна для НЧ-диапазона. Будем использовать правило золотого сечения, тогда
ширину окна выберем floor(31*1.618) = 51 (округлили к ближайшему нечетному)
31x51 - Первая свертка 

По правилу золотого сечения
31/1.618 = 19 -- высота второй свертки
19x31 -- Вторая свертка
11x19 -- третья свертка
9x11  -- четвертая свертка

## Выбор окон для сверток (ПЧ/ВЧ)
15 -- максимально возможная (нечетная) ширина окна для ПЧ/ВЧ-диапазона.
15x24 -- 1 свертка
9x15 -- 2 свертка
5x9 -- 3 свертка
3x5 -- 3 свертка

## Какие свертки важны?
 -- Свертка 9x11 в НЧ диапазоне очень важна, при её удалении точность падает с 0.76 до 0.67;
 -- Свертка 11x19 в НЧ диапазоне очень важна, при её удалении точность падает с 0.76 до 0.74. Сходимость сети плохая почти на всех вкладках;
 -- Свертка 11x19 в НЧ диапазоне очень важна, при её удалении точность падает с 0.76 до 0.70. Сходимость сети плохая на вкладках 1, 2, 3 и 5;
 -- Свертка 31x19 в НЧ диапазоне улучшила производительность на вкладках 1,2, на 3 и 4 результат тот же. На 5 хуже, с 0.86 упало до 0.80. Плохое поведение на 2й вкладке по кривым. На 3й медленное убывание.
 -- Свертка 5x9 не нужна в НЧ диапазоне. С ней производительность модели упала с 0.75 до 0.71.
 -- Свертка 15,24 не нужна в НЧ диапазоне. С ней производительность модели упала с 0.75 до 0.68.
 -- Свертка 3x5 важна в диапазоне ПЧ, без неё правильность падает с 0,75 до 0,71
 